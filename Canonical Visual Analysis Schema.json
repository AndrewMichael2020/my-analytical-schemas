{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "schemas/visual-analysis-v8.json",
  "title": "Canonical Visual Analysis Schema: Evaluative Edition",
  "description": "A unified schema separating Primary Observation (Data), Analytical Frameworks (Systems), Critical Perspectives (Critique), and Evaluative Metrics (Mastery/Value).",
  "type": "object",
  "definitions": {
    "MetricString": {
      "type": "object",
      "description": "A string value with attached provenance/confidence metrics.",
      "properties": {
        "value": { "type": "string" },
        "confidence": { 
            "type": "number", 
            "minimum": 0.0, 
            "maximum": 1.0,
            "description": "INSTRUCTION: Assign a probability score (0.0-1.0). 1.0 = Absolute certainty/Consensus. <0.5 = Speculative."
        },
        "source": { 
            "type": "string",
            "description": "INSTRUCTION: Cite the specific model (e.g., 'ResNet50') or the critical text/expert (e.g., 'Clement Greenberg', 'Expert_ID_04')."
        },
        "notes": { "type": "string" }
      },
      "required": ["value"]
    },
    "MetricNumber": {
      "type": "object",
      "properties": {
        "value": { "type": "number" },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
        "source": { "type": "string" }
      },
      "required": ["value"]
    },
    "MetricArray": {
      "type": "object",
      "properties": {
        "value": { "type": "array", "items": { "type": "string" } },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
        "source": { "type": "string" }
      },
      "required": ["value"]
    },
    "PolarityPair": {
      "type": "object",
      "description": "A spectrum between two theoretical opposites.",
      "properties": {
        "score": { 
            "type": "number", 
            "minimum": 0.0, 
            "maximum": 1.0,
            "description": "INSTRUCTION: Position the work on the spectrum. 0.0 = Pure Left Term. 1.0 = Pure Right Term. 0.5 = Synthesis/Neutral." 
        },
        "classification": { "type": "string" },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1 }
      },
      "required": ["score", "confidence"]
    }
  },
  "properties": {
    "metadata": {
      "type": "object",
      "properties": {
        "analysis_id": { "type": "string", "format": "uuid" },
        "analyst_id": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" },
        "schema_version": { "type": "string", "const": "8.0.0" }
      },
      "required": ["analysis_id"]
    },
    "object_provenance": {
      "type": "object",
      "description": "Tombstone data: Factual identification.",
      "properties": {
        "title": { 
            "description": "PROMPT: What is the accepted catalog title of the work?",
            "$ref": "#/definitions/MetricString" 
        },
        "artist": { 
            "description": "PROMPT: Who is the primary creator?",
            "$ref": "#/definitions/MetricString" 
        },
        "date_creation": { "$ref": "#/definitions/MetricString" },
        "medium": { "$ref": "#/definitions/MetricString" },
        "dimensions": { "$ref": "#/definitions/MetricString" },
        "current_location": { "$ref": "#/definitions/MetricString" },
        "digital_properties": {
            "type": "object",
            "properties": {
                "file_format": { "$ref": "#/definitions/MetricString" },
                "generation_method": { "$ref": "#/definitions/MetricString" }
            }
        }
      },
      "required": ["title"]
    },
    "primary_observation": {
      "type": "object",
      "description": "Layer 1: Raw Data Collection (Pre-Interpretation).",
      "properties": {
        "physical_data": {
           "description": "Material facts (Support, Condition).",
           "properties": {
              "support_structure": { 
                  "description": "PROMPT: Identify the substrate (canvas, panel, digital).",
                  "$ref": "#/definitions/MetricString" 
              },
              "conservation_state": { 
                  "description": "PROMPT: Note visible damage or restoration.",
                  "$ref": "#/definitions/MetricString" 
              }
           }
        },
        "formal_elements": {
          "description": "Basic visual building blocks.",
          "properties": {
            "line": { 
                "description": "PROMPT: Analyze line quality (Analytic vs Expressive).",
                "$ref": "#/definitions/MetricString" 
            },
            "shape_and_form": { 
                "description": "PROMPT: Describe dominant forms (Geometric vs Organic).",
                "$ref": "#/definitions/MetricString" 
            },
            "color_palette": { 
                "description": "PROMPT: List dominant hues and contrast.",
                "$ref": "#/definitions/MetricString" 
            },
            "texture": { 
                "description": "PROMPT: Describe surface quality (Facture).",
                "$ref": "#/definitions/MetricString" 
            },
            "space_and_perspective": { 
                "description": "PROMPT: How is depth constructed?",
                "$ref": "#/definitions/MetricString" 
            },
            "typography": { "$ref": "#/definitions/MetricString" }
          }
        },
        "principles_of_design": {
          "description": "Compositional arrangement.",
          "properties": {
            "balance": { "$ref": "#/definitions/MetricString" },
            "emphasis_focal_point": { "$ref": "#/definitions/MetricString" },
            "movement_rhythm": { "$ref": "#/definitions/MetricString" },
            "unity_variety": { "$ref": "#/definitions/MetricString" }
          }
        },
        "subject_matter": {
          "description": "Natural description (Panofsky Level 1).",
          "properties": {
            "keywords": { "$ref": "#/definitions/MetricArray" },
            "description_natural": { "$ref": "#/definitions/MetricString" },
            "figure_count": { "$ref": "#/definitions/MetricNumber" },
            "dominant_objects": { "$ref": "#/definitions/MetricArray" }
          }
        }
      }
    },
    "analytical_frameworks": {
      "type": "object",
      "description": "Layer 2: Systemic Interpretation (The 6 Clusters).",
      "properties": {
        "1_formal_stylistic_systems": {
          "type": "object",
          "properties": {
            "greenbergian_formalism": {
              "description": "PROMPT: Analyze using Greenberg's criteria.",
              "properties": {
                "medium_specificity": { "$ref": "#/definitions/MetricString" },
                "opticality_vs_tactility": { "$ref": "#/definitions/PolarityPair" },
                "flatness_assertion": { "$ref": "#/definitions/MetricString" }
              }
            },
            "woelfflinian_evolution": {
              "description": "PROMPT: Categorize using Wölfflin's binary pairs.",
              "properties": {
                "linear_vs_painterly": { "$ref": "#/definitions/PolarityPair" },
                "plane_vs_recession": { "$ref": "#/definitions/PolarityPair" },
                "closed_vs_open_form": { "$ref": "#/definitions/PolarityPair" },
                "multiplicity_vs_unity": { "$ref": "#/definitions/PolarityPair" },
                "clearness_vs_unclearness": { "$ref": "#/definitions/PolarityPair" },
                "kunstwollen": { "$ref": "#/definitions/MetricString" }
              }
            },
            "morellian_connoisseurship": {
              "description": "PROMPT: Forensic attribution.",
              "properties": {
                "diagnostic_traces": { "$ref": "#/definitions/MetricArray" },
                "attribution_confidence": { "$ref": "#/definitions/MetricNumber" }
              }
            }
          }
        },
        "2_cognitive_perceptual_systems": {
          "type": "object",
          "properties": {
            "gestalt_psychology": {
              "description": "PROMPT: Perceptual organization.",
              "properties": {
                "figure_ground_relationship": { "$ref": "#/definitions/MetricString" },
                "grouping_laws": { "$ref": "#/definitions/MetricArray" },
                "good_gestalt": { "$ref": "#/definitions/MetricNumber" }
              }
            },
            "neuroarthistory": {
              "properties": {
                "neural_stimuli": { "$ref": "#/definitions/MetricString" },
                "biological_affect": { "$ref": "#/definitions/MetricString" }
              }
            },
            "phenomenology": {
              "properties": {
                "somatic_relationship": { "$ref": "#/definitions/MetricString" },
                "theatricality": { "$ref": "#/definitions/MetricString" }
              }
            }
          }
        },
        "3_symbolic_logical_systems": {
          "type": "object",
          "properties": {
            "panofskian_iconology": {
              "properties": {
                "iconographical_analysis": { "$ref": "#/definitions/MetricArray" },
                "iconological_intuition": { "$ref": "#/definitions/MetricString" }
              }
            },
            "warburgian_mnemosyne": {
              "properties": {
                "pathosformel": { "$ref": "#/definitions/MetricString" },
                "nachleben": { "$ref": "#/definitions/MetricString" }
              }
            }
          }
        },
        "4_material_ontological_systems": {
          "type": "object",
          "properties": {
            "technical_art_history": {
              "properties": {
                "material_construction": { "$ref": "#/definitions/MetricString" },
                "manufacturing_logic": { "$ref": "#/definitions/MetricString" },
                "trade_routes_materials": { "$ref": "#/definitions/MetricString" }
              }
            },
            "new_materialism_ooo": {
              "properties": {
                "object_agency": { "$ref": "#/definitions/MetricString" },
                "withdrawal": { "$ref": "#/definitions/MetricString" }
              }
            }
          }
        },
        "5_computational_macro_systems": {
          "type": "object",
          "properties": {
            "bildwissenschaft": {
              "properties": {
                "iconic_logic": { "$ref": "#/definitions/MetricString" }
              }
            },
            "computational_metrics": {
              "properties": {
                "visual_saliency": { "$ref": "#/definitions/MetricArray" },
                "aesthetic_score": { "$ref": "#/definitions/MetricNumber" },
                "stylometric_data": { "$ref": "#/definitions/MetricString" }
              }
            }
          }
        },
        "6_hermeneutics_reception": {
          "type": "object",
          "properties": {
            "reception_theory": {
              "properties": {
                "horizon_of_expectation": { "$ref": "#/definitions/MetricString" },
                "interpretive_history": { "$ref": "#/definitions/MetricArray" }
              }
            }
          }
        }
      }
    },
    "critical_perspectives": {
      "type": "object",
      "description": "Layer 3: Socio-Political Critique.",
      "properties": {
        "social_history_marxist": {
            "type": "object",
            "properties": {
                "class_representation": { "$ref": "#/definitions/MetricString" },
                "ideological_function": { "$ref": "#/definitions/MetricString" }
            }
        },
        "feminist_gender_studies": {
            "type": "object",
            "properties": {
                "the_gaze": { "$ref": "#/definitions/MetricString" },
                "gender_performativity": { "$ref": "#/definitions/MetricString" }
            }
        },
        "post_colonial": {
            "type": "object",
            "properties": {
                "orientalism": { "$ref": "#/definitions/MetricString" },
                "hybridity": { "$ref": "#/definitions/MetricString" }
            }
        }
      }
    },
    "evaluative_metrics": {
      "type": "object",
      "description": "Layer 4: Axiology & Heuristics (Judgments of Mastery and Value). Evaluating the Intent-Execution Gap.",
      "properties": {
        "technical_mastery": {
            "type": "object",
            "description": "PROMPT: Evaluate the artist's control over the medium (The Hand).",
            "properties": {
                "facture_confidence": {
                    "description": "PROMPT: Rate the visible speed/assurance of mark-making. 0.0=Hesitant/Labored (Amateur), 1.0=Virtuosic/Sprezzatura (Master).",
                    "$ref": "#/definitions/MetricNumber"
                },
                "economy_of_means": {
                    "description": "PROMPT: Rate the Efficiency Ratio (Impact divided by Effort). 1.0=High Impact with minimal strokes (e.g., Velázquez). 0.0=Low efficiency.",
                    "$ref": "#/definitions/MetricNumber"
                },
                "medium_control": {
                    "description": "PROMPT: Rate the intentionality of material behavior. 0.0=Accidental/Uncontrolled mess. 1.0=Intentional control (even of drips).",
                    "$ref": "#/definitions/MetricNumber"
                }
            }
        },
        "internal_coherence": {
            "type": "object",
            "description": "PROMPT: Evaluate the logic of the system (The Mind). Does the work obey its own rules?",
            "properties": {
                 "deviation_consistency": {
                     "description": "PROMPT: Are deviations from realism/norms consistent? 0.0=Incompetent/Random. 1.0=Systemic/Rigorous (e.g., Cubism, Mannerism).",
                     "$ref": "#/definitions/MetricNumber"
                 },
                 "signal_to_noise_ratio": {
                     "description": "PROMPT: Rate the necessity of elements. 1.0=Every element contributes to total effect. 0.0=Contains unresolved/dead areas.",
                     "$ref": "#/definitions/MetricNumber"
                 }
            }
        },
        "canonical_value": {
            "type": "object",
            "description": "PROMPT: Objective historical status (The Canon).",
            "properties": {
                "historical_significance": {
                     "description": "PROMPT: Select status: 'Derivative', 'Contributor', 'Masterpiece', or 'Paradigm_Shift'.",
                     "$ref": "#/definitions/MetricString"
                },
                "rarity_factor": {
                     "description": "PROMPT: Rate scarcity relative to artist's output. 1.0=Unique/Rare. 0.0=Mass produced/Common.",
                     "$ref": "#/definitions/MetricNumber"
                }
            }
        },
        "affective_value": {
            "type": "object",
             "description": "PROMPT: Subjective/Phenomenological impact (The Viewer).",
             "properties": {
                 "viewer_arrest": {
                     "description": "PROMPT: Rate 'Stopping Power' (0.0-10.0). The immediate ability to hold attention before cognitive processing.",
                     "$ref": "#/definitions/MetricNumber"
                 },
                 "authorial_intent_fulfillment": {
                     "description": "PROMPT: Did the author achieve their goal? 0.0=Failed. 1.0=Succeeded (e.g., If goal was shock, is it shocking?).",
                     "$ref": "#/definitions/PolarityPair"
                 }
             }
        }
      }
    }
  },
  "required": ["metadata", "object_provenance", "primary_observation"]
}
